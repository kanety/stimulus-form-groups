!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@hotwired/stimulus")):"function"==typeof define&&define.amd?define(["@hotwired/stimulus"],t):(e||self).StimulusFormGroup=t(e.Stimulus)}(this,function(e){class t extends e.Controller{get groups(){return this.scope.findAllElements("[data-form-group-id]")}get togglers(){return this.context.bindingObserver.bindings.filter(e=>"toggle"==e.action.methodName).map(e=>e.action.element)}connect(){this.enableAnim(!1),this.togglers.forEach(e=>this.toggleBy(e)),setTimeout(()=>this.enableAnim(!0),200)}enableAnim(e){this.groups.forEach(t=>t.classList.toggle("st-form-groups--disable-anim",!e))}toggle(e){this.toggleBy(e.target)}toggleBy(e){var t=this.toggleMethod();this.groups.forEach(e=>t(e,!1)),this.findGroups(e).forEach(e=>t(e,!0))}toggleMethod(){return"disabled"==this.modeValue?this.toggleDisabled.bind(this):this.toggleVisible.bind(this)}toggleVisible(e,t){e.style.display=t?"":"none",e.classList.toggle("st-form-groups--fade-in",t)}toggleDisabled(e,t){this.inputElements(e).forEach(e=>e.disabled=!t)}inputElements(e){return e.querySelectorAll("input, select, textarea, button")}findGroups(e){var t=this.getGroupID(e);return t?this.groups.filter(e=>this.parseJSON(e.getAttribute("data-form-group-id")).includes(t)):[]}getGroupID(e){if(e.matches("select"))return e.options[e.selectedIndex].value;if(e.matches("input[type=checkbox]"))return e.checked;if(e.matches("input[type=radio]")){var t=this.scope.findElement('input[type=radio][name="'+e.name+'"]:checked');return t?t.value:null}}parseJSON(e){try{return[].concat(JSON.parse(e))}catch(t){return[].concat(e)}}}return t.values={mode:String},t});
//# sourceMappingURL=index.umd.js.map
